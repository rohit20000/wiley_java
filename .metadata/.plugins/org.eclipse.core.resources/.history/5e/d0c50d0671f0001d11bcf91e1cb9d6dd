package data_structures;

import java.util.*;

public class BinaryTreeBottomView {
    public static void printBottomView(TreeNodeOne root) { 
        if (root == null)
            return;

        Map<Integer, Integer> map = new TreeMap<>();
        Queue<QueueNode> queue = new LinkedList<>();
        queue.add(new QueueNode(root, 0));

        while (!queue.isEmpty()) {
            QueueNode current = queue.poll();
            map.put(current.hd, current.node.val);

            if (current.node.left != null) {
                queue.add(new QueueNode(current.node.left, current.hd - 1));
            }

            if (current.node.right != null) {
                queue.add(new QueueNode(current.node.right, current.hd + 1));
            }
        }

        for (int val : map.values()) {
            System.out.print(val + " ");
        }
    }

    public static void main(String[] args) {
 
        TreeNode root = new TreeNode(1);
        root.left = new TreeNode(2);
        root.right = new TreeNode(3);
        root.left.left = new TreeNode(4);
        root.left.right = new TreeNode(5);
        root.right.right = new TreeNode(6);
        root.left.right.right = new TreeNode(7);

        System.out.println("Bottom view of the binary tree:");
        printBottomView(root);
    }
}



/*
 * we define a TreeNode class representing a node in the binary tree. Each
 * TreeNode object has a value (val) and left and right child pointers.
 * 
 * The printBottomView method takes the root of the binary tree as input and
 * prints the bottom view of the tree. It uses a map (TreeMap) to store the last
 * encountered node at each horizontal distance (hd) from the root. It also uses
 * a queue to perform a level-order traversal of the tree.
 * 
 * During the traversal, for each node, we update the value in the map with the
 * current node's value at the corresponding horizontal distance. We then
 * enqueue the left and right child nodes (if they exist) along with their
 * updated horizontal distances.
 * 
 * Finally, we iterate over the map values and print them, which will give us
 * the bottom view of the binary tree.
 * 
 * In the main method, we create a binary tree with the values shown in the
 * comment above the tree. We then call the printBottomView method to print the
 * bottom view of the binary tree.
 */
*/